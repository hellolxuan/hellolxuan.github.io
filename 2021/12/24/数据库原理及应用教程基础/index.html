<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>数据库原理及应用教程基础 | Lxuan's Blog</title><meta name="keywords" content="数据库"><meta name="author" content="Lxuan"><meta name="copyright" content="Lxuan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库，简单地说就是数据的仓库，即数据存放的地方">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库原理及应用教程基础">
<meta property="og:url" content="https://lxiuaunng.github.io/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Lxuan&#39;s Blog">
<meta property="og:description" content="数据库，简单地说就是数据的仓库，即数据存放的地方">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg">
<meta property="article:published_time" content="2021-12-23T16:00:00.000Z">
<meta property="article:modified_time" content="2022-05-21T19:41:52.706Z">
<meta property="article:author" content="Lxuan">
<meta property="article:tag" content="知识">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg"><link rel="shortcut icon" href="/img/avatar.png"><link rel="canonical" href="https://lxiuaunng.github.io/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据库原理及应用教程基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-22 03:41:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Lxuan's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据库原理及应用教程基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-12-23T16:00:00.000Z" title="发表于 2021-12-24 00:00:00">2021-12-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-21T19:41:52.706Z" title="更新于 2022-05-22 03:41:52">2022-05-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据库原理及应用教程基础"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>数据库，简单地说就是数据的仓库，即数据存放的地方</p>
<span id="more"></span>

<h2 id="数据库系统概述"><a href="#数据库系统概述" class="headerlink" title="数据库系统概述"></a><strong>数据库系统概述</strong></h2><ol>
<li><p>信息</p>
<p>信息的特征：</p>
<blockquote>
<p>信息源于物质<br>信息是可以感知的<br>信息是可储存、加工、传递、和再生的</p>
</blockquote>
</li>
<li><p>数据</p>
<p>数据的表现形式：数字、文字、图形、图象、声音和视频</p>
<p><u>信息与数据之间的联系：数据是信息的符号表示，信息是对数据的语义解释</u></p>
</li>
<li><p><u>数据库：存储在计算机中的数据集合</u></p>
</li>
<li><p>数据管理经过了三个发展阶段：<u><strong>人工管理、文件系统和数据库系统</strong></u></p>
<p>人工管理阶段数据没有专门的存取设备，没有专门的管理软件、数据不共享、数据不具有独立性</p>
<blockquote>
<p>数据独立性指数据库中数据与应用程序间相互独立，逻辑结构、存储结构及存取方式改变不影响应用程序</p>
<p>独立性有<u><strong>物理独立性和逻辑独立性</strong></u></p>
<blockquote>
<p>物理独立性指物理结构（<u>存储结构</u>、外部存储设备）发生变化，通过修改映射，用户逻辑结构和应用程序不改变<br>逻辑独立性指<u>逻辑结构</u>（修改数据定义、增加数据类型）发生变化，通过修改映射，用户逻辑结构和应用程序不改变</p>
</blockquote>
</blockquote>
<p>文件系统阶段数据以文件形式长期保存，有程序与数据之间有独立性，数据有一定共享性</p>
<p>数据库系统阶段数据结构化，数据共享型高，独立性高，有统一的数据管理和控制功能</p>
<blockquote>
<p>数据控制功能：数据的安全性控制、完整性控制、并发控制、数据恢复</p>
</blockquote>
</li>
<li><p>数据库系统</p>
<p><u><strong>数据库系统包括数据库和数据库管理系统</strong></u></p>
<p>数据库系统的组成：<u><strong>数据库、用户、软件系统、硬件系统</strong></u></p>
<blockquote>
<p>第一类用户：最终用户-&gt;非计算机专业人员</p>
<p>第二类用户：应用程序员-&gt;调试和安装</p>
<p>第三类用户：数据库管理员-&gt;设计、管理、维护数据库，协调用户</p>
</blockquote>
</li>
<li><p>三级模式：<u><strong>外模式、模式、内模式</strong></u>（<u>用户模式、概念模式、物理模式</u>）</p>
<blockquote>
<p>模式（概念模式）：是数据库中<u>全体</u>数据的<u>逻辑结构</u>和特征的描述</p>
<p>外模式（子模式&#x2F;用户模式）：是数据库<u>用户</u>能看到看到并允许使用的数据的逻<u>辑结构</u>和特征的描述</p>
<p>内模式（存储模式&#x2F;物理模式）：是对数据库<u>存储结构</u>的描述</p>
<blockquote>
<p>外模式可以有多个，模式和内模式只能各有一个</p>
</blockquote>
</blockquote>
<p><u>外模式&#x2F;模式</u>映像，描述数据的全局<u>逻辑</u>结构</p>
<p><u>模式&#x2F;内模式</u>映像，描述数据的全局<u>物理</u>结构</p>
<blockquote>
<p>二级映像的优点：保证数据的独立性、简化了用户接口、有利于数据共享、有利于数据的安全保密</p>
</blockquote>
</li>
<li><p>数据库管理系统（DBMS）</p>
<p><u><strong>数据库管理系统（DBMS）是数据库系统的核心</strong></u>组成部分，包括定义、查询、更新（插入、删除和修改）及各种控制</p>
<p><u>用户在数据库系统中的一切操作都是通过数据库管理系统进行的</u></p>
<p>DBMS主要功能：<u><strong>数据定义功能、数据操操纵功能、数据库运行管理功能、数据库的建立和维护功能、数据通信接口及数据组织、存储和管理功能</strong></u></p>
<blockquote>
<p>数据库运行管理是DBMS运行的核心部分</p>
</blockquote>
</li>
<li><p>数据模型的组成要素</p>
<p><strong><u>数据结构、数据操作、数据的完整性约束</u></strong></p>
<blockquote>
<p>数据结构：<u>层次结构、网状结构、关系结构</u></p>
<p>数据操作有查询和更新（插入、删除和修改）</p>
<p>完整性约束保证数据正确、有效、相容</p>
</blockquote>
</li>
<li><p>四种数据模型</p>
<p><u><strong>层次模型、网状模型、关系模型、面向对象模型</strong></u></p>
<blockquote>
<p>层次模型采用<u><strong>树形结构</strong></u>表示各类实体以及实体间的联系</p>
<p>网状模型采用<u><strong>有向图结构</strong></u>表示记录型与记录型之间联系的数据模型</p>
<p>关系模式的数据结构是<u><strong>一张规范化的二维表</strong></u></p>
<p>面向对象模型中最基本的概念是<u><strong>对象</strong></u>和<u><strong>类</strong></u></p>
</blockquote>
</li>
</ol>
<hr>
<h2 id="关系数据库"><a href="#关系数据库" class="headerlink" title="关系数据库"></a><strong>关系数据库</strong></h2><ol>
<li><p>候选码：能标识关系中元组的一个属性或属性集，如：学号、身份证号或二者相加</p>
</li>
<li><p>主码：如果一个关系中有多个候选码，选择其中一个作为主码</p>
</li>
<li><p>关系代数运算</p>
<p>基本代数运算：并、差、笛卡儿积、选取、投影</p>
<p>传统的代数运算：并、差、交、笛卡尔积</p>
<p>专门的代数运算：选取、投影、连接、<del>除</del></p>
</li>
</ol>
<hr>
<h2 id="关系数据库标准语言——SQL"><a href="#关系数据库标准语言——SQL" class="headerlink" title="关系数据库标准语言——SQL"></a><strong>关系数据库标准语言——SQL</strong></h2><ol>
<li><p>SQL是结构化查询语言（Structured Query Language）的缩写</p>
</li>
<li><p>SQL语句</p>
<p>数据定义：<u>CREATE（创建）、ALTER（修改）、DROP（删除</u>）</p>
<p>数据操纵：<u>INSERT INTO（插入表中记录）、UPDATE（修改表中记录）、DELETE（删除表中记录）</u></p>
<p>数据查询：<u>SELECT（查询）</u></p>
</li>
<li><p>聚合函数：AVG（平均值）、SUM（总和）、MAX（最大值）、MIN（最小值）、COUNT（统计个数）</p>
</li>
<li><p>WHERE和HAVING</p>
<p>WHERE：筛选出表中满足条件的行，不可与聚合函数连用</p>
<p>HAVING：筛选出满足条件的组，可与聚合函数连用，通常与GROUP BY连用</p>
<p><img src="/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/1.png" alt="SQL语句执行顺序"></p>
</li>
<li><p>数据表中数据的操纵</p>
<ul>
<li><p>添加表中数据，INSERT INTO</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*在 S 表中添加一条学生记录*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S (sno, sn, age, sex, dept)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;s1&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;计算机&#x27;</span>)</span><br></pre></td></tr></table></figure>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*添加多行记录</span></span><br><span class="line"><span class="comment">INSERT INTO 表名</span></span><br><span class="line"><span class="comment">子查询*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S</span><br><span class="line"><span class="keyword">SELECT</span> dept, <span class="built_in">AVG</span>(sal)</span><br><span class="line"><span class="keyword">FROM</span> T</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> dept</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表中数据，UPDATE</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> T</span><br><span class="line"><span class="keyword">SET</span> dept<span class="operator">=</span><span class="string">&#x27;会计&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> TN<span class="operator">=</span><span class="string">&#x27;刘伟&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除数据，DELETE</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> sn<span class="operator">=</span><span class="string">&#x27;张三&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>视图</p>
<p>视图的概念：视图是一个虚拟表，其内容由查询定义，视图包含带有行和列的数据，但是视图并不存储数据。</p>
<p>视图的作用：<u>通常用来简化用户操作，使用户以多种角度看待同一数据，对重构数据库提供了一定程度的逻辑独立性，更清晰的表达查询</u></p>
<p><u>视图可以用作安全机制，允许用户通过视图访问数据，而不授予访问数据表的权限，<strong>视图本身并不包含数据，保存的是查询语句</strong></u></p>
</li>
<li><p>创建视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> 视图名(属性<span class="number">1</span>,属性<span class="number">2</span>,属性<span class="number">3.</span>..)</span><br><span class="line"><span class="keyword">AS</span> <span class="keyword">SELECT</span> 属性<span class="number">1</span>,属性<span class="number">2</span>,属性<span class="number">3.</span>..</span><br><span class="line"><span class="keyword">FROM</span> 表名<span class="number">1</span>,表名<span class="number">2.</span>..</span><br><span class="line"><span class="keyword">WHERE</span> ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>索引</p>
<p>两种基本类型的索引：<u><strong>聚集索引、非聚集索引</strong></u></p>
</li>
</ol>
<hr>
<h2 id="数据库安全保护"><a href="#数据库安全保护" class="headerlink" title="数据库安全保护"></a><strong>数据库安全保护</strong></h2><ol>
<li><p>数据库安全性的含义</p>
<p>数据库的安全性是指<u><strong>保护数据库以防止非法使用所造成的数据泄露、更改或破坏（防止非法操作）</strong></u></p>
</li>
<li><p><u>SQL Server身份认证，认证的是和服务器的连接</u></p>
</li>
<li><p>数据库完整性的含义</p>
<p>数据库的完整性是指<u><strong>保护数据库中数据的正确性、有效性和相容性，防止错误的数据进入数据库造成无效操作（保护数据的一致性）</strong></u></p>
<blockquote>
<p>实时数据库完整性的方法有：<u>约束、默认值、规则、存储过程和触发器</u></p>
</blockquote>
</li>
<li><p>事务</p>
<p><u><strong>事务是数据库中执行的一个工作单位，由用户定义的一组操作</strong></u>。可以是一组SQL语句、一条SQL语句或整个程序</p>
<p>定义事务的语句有三条</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span> TRANSACTION</span><br><span class="line"><span class="keyword">COMMIT</span></span><br><span class="line"><span class="keyword">ROLLBACK</span></span><br><span class="line">其中<span class="keyword">BEGIN</span> TRANSACTION表示事务的开始；</span><br><span class="line"><span class="keyword">COMMIT</span>表示事务的提交，正常结束；</span><br><span class="line"><span class="keyword">ROLLBACK</span>表示事务的回滚，即运行过程中发生了某种故障，回滚到开始状态</span><br></pre></td></tr></table></figure>

<p>事务有四个特征：<u><strong>原子性、一致性、隔离性、持久性（ACID准测）</strong></u></p>
</li>
<li><p>并发操作与数据的不一致性</p>
<p>数据库的并发操作导致的数据库不一致性主要有三种：<u><strong>丢失更新、污读（读脏数据）、不可重读</strong></u></p>
</li>
<li><p>封锁</p>
<p>封锁类型：<u><strong>排他型封锁（X锁）、共享封锁（S锁）</strong></u></p>
<blockquote>
<p>排他型封锁：<u>禁止并发操作</u>（事务T对某个数据对象R实现X封锁后，其他事务要等T解除X封锁以后，才能对R进行封锁，这就保证了其他事物在T释放R上的封锁之前，不能再对R进行操作）</p>
<p>共享封锁：<u>允许其他用户对同一数据对象进行查询，但不能对该数据对象进行修改</u></p>
</blockquote>
<p>封锁协议：</p>
<blockquote>
<p>一级封锁协议（不能防止“污读”和“不可重读”）</p>
<p>二级封锁协议（能防止“污读”，不能防止“不可重读”）</p>
<p>三级封锁协议（既能防止“污读”，也能防止“不可重读”）</p>
</blockquote>
<p>封锁粒度：封锁的数据对象大小称为封锁粒度，封锁粒度越小能够被封锁的对象就越多，并发度越高，烦封锁机构越复杂，系统开销也越大，反之亦然，选择封锁粒度时应考虑封锁机构和并发度两个因素，以求得最优解。</p>
</li>
<li><p>活锁和死锁</p>
<p>死锁产生的条件：</p>
<blockquote>
<p>互斥条件：一个对象只能被一个事务使用，即对数据的封锁采用排他式</p>
<p>不可抢占条件：一个数据对象只能被占有它的事务所释放，而不能被别的事务强行抢占</p>
<p>部分分配条件：一个事务已经封锁分给它的数据对象，但仍然要求封锁其他数据</p>
<p>循环等待条件：允许等待其他事务释放数据对象，系统处于加锁请求互相等待的状态</p>
</blockquote>
<p>死锁的预防：一次加锁法、顺序加锁法</p>
<p>死锁的诊断与解除：<u>选择一个处理死锁代价最小的事务，将它撤销，解除它的死锁，释放此事务占用的所有数据资源，分配给其他事务</u></p>
</li>
<li><p>数据库的故障和恢复的策略</p>
<p>事务故障及其恢复、系统故障及其恢复、介质故障及其恢复</p>
</li>
</ol>
<hr>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a><strong>数据库设计</strong></h2><ol>
<li>数据库设计步骤：<u>系统需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库实施、数据库运行和维护</u></li>
</ol>
<hr>
<h2 id="SQL-Server高级应用"><a href="#SQL-Server高级应用" class="headerlink" title="SQL Server高级应用"></a><strong>SQL Server高级应用</strong></h2><ol>
<li><p>Transact-SQL</p>
<p><u>全局变量：全局变量是SQL Server系统内部使用的变量，使用全局变量必须以“@@”开头</u></p>
<p>局部变量：局部变量使用户可以自定义的变量，且局部变量名前必须以@为前缀</p>
<p>局部变量必须先用DECLARE命令声明后才可以使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*声明一个长度为8个字符的局部变量id*/</span></span><br><span class="line"><span class="keyword">DECLARE</span> <span class="variable">@id</span> <span class="type">char</span>(<span class="number">8</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@id</span><span class="operator">=</span><span class="string">&#x27;12345678&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> <span class="variable">@sno</span> <span class="type">varchar</span>(<span class="number">10</span>),<span class="variable">@sn</span> <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@sno</span><span class="operator">=</span>SNo,<span class="variable">@sn</span><span class="operator">=</span>SN</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SNo<span class="operator">=</span><span class="string">&#x27;S7&#x27;</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>触发器是一种特殊的存储过程，但触发器能够自动执行并且不含有参数</p>
</li>
<li><p>触发器的种类：</p>
<blockquote>
<p><u>DML触发器</u>：DML触发器是在执行<u>数据操作语言（DML）</u>事件时被激活而自动执行的触发器</p>
<p>根据触发器代码执行的时机，DML触发器可以分为两种：<u><strong>After触发器和Instead of触发器</strong></u></p>
<blockquote>
<p>After触发器是在执行了INSTERT、UPDATE或DELETE语句操作之后激活执行的触发器，也是就在<u>记录已经变完之后（After）</u>才会激活执行，这种触发器只能在表上定义，不能在视图上</p>
<p>Instead of触发器是在执行INSTERT、UPDATE或DELETE语句操作之前激活执行的触发器，也就是<u>记录变更之前</u>，不去执行SQL语句里插入、修改或删除操作，而去执行触发器种的代码所定义的操作，可以定义在表和视图上</p>
</blockquote>
<p><u>DDL触发器</u>：DDL触发器是在响应各种<u>数据定义语言（DDL）</u>事件时而激活执行的存储过程</p>
<p><u>登陆触发器</u>：由登陆（LOGON）事件而激活的触发器，建立用户会话时将引发此事件 </p>
</blockquote>
</li>
<li><p>每个触发器都有两个特殊表：<u><strong>插入表（Inserted）和删除表（Deleted）</strong></u>，这两个表都是系统在线生成的、动态驻留在内存种的临时表，是由系统管理的逻辑表</p>
</li>
<li><p>备份和还原</p>
<p>备份类型：<u><strong>数据库完整备份、差异备份、事务日志备份、文件及文件组备份</strong></u></p>
<p>还原模式：简单还原、完全还原、批日志还原</p>
</li>
</ol>
<p><a href="./%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/%E5%90%84%E7%AB%A0%E4%B9%A0%E9%A2%98.docx">各章习题文件</a></p>
<p><a href="./%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/%E4%B9%A0%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88.doc">各章习题参考答案</a></p>
<p><a href="./%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/%E7%AE%80%E7%AD%94%E9%A2%98.zip">简答题及答案</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://lxiuaunng.github.io">Lxuan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://lxiuaunng.github.io/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/">https://lxiuaunng.github.io/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://lxiuaunng.github.io" target="_blank">Lxuan's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%9F%A5%E8%AF%86/">知识</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></div><div class="post_share"><div class="social-share" data-image="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/14/Linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"><img class="prev-cover" src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover2-71d.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux基础命令</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/28/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A6%82%E8%AE%BA/"><img class="next-cover" src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover3-13f.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">大数据概论</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/12/14/Linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/" title="Linux基础命令"><img class="cover" src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover2-71d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-14</div><div class="title">Linux基础命令</div></div></a></div><div><a href="/2021/12/28/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A6%82%E8%AE%BA/" title="大数据概论"><img class="cover" src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover3-13f.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-28</div><div class="title">大数据概论</div></div></a></div><div><a href="/2021/12/29/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统"><img class="cover" src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover9-ccf.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-29</div><div class="title">操作系统</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Lxuan</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lxiuaunng"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lxiuaunng" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lxiuaunng@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">因为Icarus主题的仓库文件丢失了，因此决定顺便换一个主题</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">数据库系统概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">关系数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80%E2%80%94%E2%80%94SQL"><span class="toc-number">3.</span> <span class="toc-text">关系数据库标准语言——SQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E4%BF%9D%E6%8A%A4"><span class="toc-number">4.</span> <span class="toc-text">数据库安全保护</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.</span> <span class="toc-text">数据库设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-Server%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8"><span class="toc-number">6.</span> <span class="toc-text">SQL Server高级应用</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/01/15/Node.js/" title="Node.js"><img src="/2022/01/15/Node.js/node.js.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.js"/></a><div class="content"><a class="title" href="/2022/01/15/Node.js/" title="Node.js">Node.js</a><time datetime="2022-01-14T16:00:00.000Z" title="发表于 2022-01-15 00:00:00">2022-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/09/%E5%8F%8C%E5%9F%8E%E4%B9%8B%E6%88%98/" title="英雄联盟：双城之战"><img src="/2022/01/09/%E5%8F%8C%E5%9F%8E%E4%B9%8B%E6%88%98/7.3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英雄联盟：双城之战"/></a><div class="content"><a class="title" href="/2022/01/09/%E5%8F%8C%E5%9F%8E%E4%B9%8B%E6%88%98/" title="英雄联盟：双城之战">英雄联盟：双城之战</a><time datetime="2022-01-08T16:00:00.000Z" title="发表于 2022-01-09 00:00:00">2022-01-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/29/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统"><img src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover9-ccf.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统"/></a><div class="content"><a class="title" href="/2021/12/29/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统">操作系统</a><time datetime="2021-12-28T16:00:00.000Z" title="发表于 2021-12-29 00:00:00">2021-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/28/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A6%82%E8%AE%BA/" title="大数据概论"><img src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover3-13f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大数据概论"/></a><div class="content"><a class="title" href="/2021/12/28/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A6%82%E8%AE%BA/" title="大数据概论">大数据概论</a><time datetime="2021-12-27T16:00:00.000Z" title="发表于 2021-12-28 00:00:00">2021-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="数据库原理及应用教程基础"><img src="https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库原理及应用教程基础"/></a><div class="content"><a class="title" href="/2021/12/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="数据库原理及应用教程基础">数据库原理及应用教程基础</a><time datetime="2021-12-23T16:00:00.000Z" title="发表于 2021-12-24 00:00:00">2021-12-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://figurebed-1311634249.file.myqcloud.com/2022/C/Users/12748/Desktop/cover12-056.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Lxuan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>